parameters:
    locale: 'en'
services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false
    App\:
        resource: '../src/*'
        exclude: '../src/{Entity,Migrations,Tests,Kernel.php}'
    App\Controller\:
        resource: '../src/Controller'
        tags: ['controller.service_arguments']
    app.event.api_exception_listener:
        class: App\Event\Listener\ApiExceptionListener
        tags:
            - { name: kernel.event_listener, event: kernel.exception, method: onKernelException }
    app.event.login_listener:
        class: App\Event\Listener\LoginEventListener
        arguments: ['@doctrine.orm.entity_manager']
        tags:
            - { name: kernel.event_listener, event: ldap_tools_bundle.guard.login.success, method: onLoginSuccess }
            - { name: kernel.event_listener, event: ldap_tools_bundle.guard.login.failure, method: onLoginFailure }
    App\Repository\BaseRepository:
        autowire: false
        arguments: ['@Symfony\Bridge\Doctrine\RegistryInterface']
    App\Controller\BaseController:
        arguments: ['@request_stack']